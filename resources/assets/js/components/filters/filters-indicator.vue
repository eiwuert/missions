<template>
	<div>
		<hr class="divider sm">
		<div>
			<label>Active Filters</label>
			<!-- Reservations Filters -->
			<span v-if="propertyExists('type')" style="margin-right:2px;" class="label label-default" v-show="filters.type != ''" @click="filters.type = ''" >
				Trip Type
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('tags')" style="margin-right:2px;" class="label label-default" v-show="filters.tags.length" @click="filters.tags = [],syncFilters()" >
				Tags
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('user')" style="margin-right:2px;" class="label label-default" v-show="filters.user.length" @click="filters.user = [],syncFilters()" >
				Users
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('groups')" style="margin-right:2px;" class="label label-default" v-show="filters.groups.length" @click="filters.groups = [],syncFilters()" >
				Travel Group(s)
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('campaign')" style="margin-right:2px;" class="label label-default" v-show="filters.campaign != null" @click="filters.campaign = null,syncFilters()" >
				Campaign
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('role')" style="margin-right:2px;" class="label label-default" v-show="filters.role !== ''" @click="filters.role = ''" >
				Role
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('gender')" style="margin-right:2px;" class="label label-default" v-show="filters.gender != ''" @click="filters.gender = '',syncFilters()" >
				Gender
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('status')" style="margin-right:2px;" class="label label-default" v-show="filters.status != ''" @click="filters.status = '',syncFilters()" >
				Status
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('rep')" style="margin-right:2px;" class="label label-default" v-show="filters.rep != ''" @click="filters.rep = '',syncFilters()" >
				Trip Rep.
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('shirtSize')" style="margin-right:2px;" class="label label-default" v-show="filters.shirtSize != ''" @click="filters.shirtSize = '',syncFilters()" >
				Shirt Size
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('hasCompanions')" style="margin-right:2px;" class="label label-default" v-show="filters.hasCompanions !== null" @click="filters.hasCompanions = null,syncFilters()" >
				Companions
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('todoName')" style="margin-right:2px;" class="label label-default" v-show="filters.todoName != ''" @click="filters.todoName = '', filters.todoStatus = null,syncFilters()" >
				{{ todo }}
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('designation')" style="margin-right:2px;" class="label label-default" v-show="filters.designation != ''" @click="filters.designation = '',syncFilters()" >
				Designation
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('requirementName')" style="margin-right:2px;" class="label label-default" v-show="filters.requirementName != ''" @click="filters.requirementName = '', filters.requirementStatus = '',syncFilters()" >
				{{ requirement }}
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('dueName')" style="margin-right:2px;" class="label label-default" v-show="filters.dueName != ''" @click="filters.dueName = '', filters.dueStatus = '',syncFilters()" >
				{{ due }}
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('age')" style="margin-right:2px;" class="label label-default" v-show="filters.age[0] != 0" @click="filters.age[0] = 0" >
				Min. Age
				<i class="fa fa-close"></i>
			</span>
			<span v-if="propertyExists('age')" style="margin-right:2px;" class="label label-default" v-show="filters.age[1] != 120" @click="filters.age[1] = 120" >
				Max. Age
				<i class="fa fa-close"></i>
			</span>
		</div>
	</div>
</template>
<style></style>
<script type="text/javascript">
    export default{
        name: 'filters-indicator',
        props: {
            // Main object that contains all filters used by the parent component for API calls
            filters: {
                type: Object,
                required: true,
                default: null
            },
	        // Needed if reservations filters are in use
	        requirement: {
                type: String,
                default: ''
	        },
            // Needed if reservations filters are in use
	        due: {
                type: String,
                default: ''
	        },
        },
        data(){
            return {
                msg: null
            }
        },
        methods: {
            propertyExists(property) {
                // Instead of concerning the filters component about where it is
                // It is may be best to behave based on the filter object passed in
                // We can ho this be checking whether a property exists in it
                return this.filters.hasOwnProperty(property);
            },
	        syncFilters() {
                // this.$root.$emit('reservations-filters:update:filter', this.filters);
            }

        },
        ready(){

        }
    }
</script>